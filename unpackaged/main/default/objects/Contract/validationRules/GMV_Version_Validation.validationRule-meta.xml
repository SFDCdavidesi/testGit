<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>GMV_Version_Validation</fullName>
    <active>true</active>
    <description>US-0011057 - New ACP contract record field to indicate if Contract is GMV1.0 or GMV2.0</description>
    <errorConditionFormula>AND(
    NOT($Setup.byPass__c.ByPass_Validation__c),
    RecordType.DeveloperName = &#39;EBH_ACP&#39;,
    !ISBLANK(TEXT(GMV_Version__c)),
    ISPICKVAL(GMV_Version__c, &#39;GMV1.0&#39;),
    OR(
        AND(ISNEW(),TODAY() &gt;= Date(2022,1,1)),
        AND(ISCHANGED(GMV_Version__c),DateValue(CreatedDate) &gt;= Date(2022,1,1))
    )
)</errorConditionFormula>
    <errorDisplayField>GMV_Version__c</errorDisplayField>
    <errorMessage>This contract is new and should be based on GMV2.0 definition  :

GMV consists of the total value of all paid transactions between users on our platforms during the applicable period inclusive of shipping fees and taxes.</errorMessage>
</ValidationRule>
