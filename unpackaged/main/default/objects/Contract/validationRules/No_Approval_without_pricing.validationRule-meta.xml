<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>No_Approval_without_pricing</fullName>
    <active>true</active>
    <description>2020-01-22 Reactivating this rule US-0002008, US-0007080
19-06-22 Add Status Voided and Sent for Finance Pre-check to condition, US-0007662</description>
    <errorConditionFormula>AND(
    NOT(RecordType.DeveloperName = &quot;Refurbished&quot;), /* Sophal: 06/08/2021: US-0009896 */
    NOT( ISPICKVAL(Status, &quot;Draft&quot;)) ,
    NOT( ISPICKVAL(Status, &quot;In Negotiation&quot;)) ,
    NOT( ISPICKVAL(Status, &quot;Voided&quot;)) ,
    NOT( ISPICKVAL(Status, &quot;Sent for Finance Pre-check&quot;)),
    Number_of_Pricing_records__c =0
) 
&amp;&amp; NOT( $Setup.ActiveValidationRules__c.All_Validation_Rules_Deactivated__c )</errorConditionFormula>
    <errorMessage>Please add at least one Pricing record before submitting the contract for approval.</errorMessage>
</ValidationRule>
