<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>V2_ApprovalFieldsCantbeChanged</fullName>
    <active>true</active>
    <description>US-0008843 - [NA] Migrate NA Deals Validation Rules to Hive</description>
    <errorConditionFormula>AND(
RecordType.DeveloperName =&#39;Deal_V2&#39;,
NOT($Setup.byPass__c.ByPass_Validation__c) ,
OR(
ISCHANGED(Merchant_Approver__c),
ISCHANGED(Director__c)
),
OR(
ISPICKVAL(EBH_Status__c,&#39;Internally Approved&#39;),
ISPICKVAL(EBH_Status__c,&#39;Sent to Seller&#39;),
ISPICKVAL(EBH_Status__c,&#39;Running&#39;),
ISPICKVAL(EBH_Status__c,&#39;Seller Approved&#39;),
ISPICKVAL(EBH_Status__c,&#39;Completed&#39;),
ISPICKVAL(EBH_Status__c,&#39;Expired&#39;)
)
)</errorConditionFormula>
    <errorMessage>It is not possible to change the approvers once a Deal has been approved. Please Cancel Deal first and then changes can be made</errorMessage>
</ValidationRule>
